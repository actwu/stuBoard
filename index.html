<style>
body { all: none; color: #fff; }
section { display: grid; margin: 3.5px; gap: 3.5px; grid-template-columns: repeat(auto-fill, minmax(128px, 0.8fr)); max-height: 400px; overflow-y: auto; }
textarea { text-align: center; height: 0.235in; }
textarea:first-of-type, textarea:nth-of-type(5), textarea:nth-of-type(6), p, a { grid-column: span 2; }
textarea:nth-of-type(2), textarea:nth-of-type(3), textarea:nth-of-type(4) { grid-column: span 1; }
p { text-align: center; border: 0; }
</style>
<warn>This is visible because ise haven't run yet.</warn>
<setup>
set.title('Student Dashboard');
set.info('Manage student subjects and data');
set.key('student, dashboard, management');
set.view();
set.cover(1);
set.icon(1);
ui();
</setup>
<script src='https://ise.web.app/load.js'></script>
<body>
<cont top bar bbg center fixed><p id="clock"></p></cont>
<screen id="classes" center>
<div id="classList" flex></div>
<a bdr="0" bbg2 onclick="addClass()">Add Class</a>
</screen>
<screen id="classinfo" hide center>
<nav bbg bdr="0">
<a onclick="show('#classes'); hide('#classinfo')">Back</a>
<a bdr="0" bbg2 onclick="shareData()"><i class="fas fa-share-alt"></i></a>
</nav>
<section id="classDetails" data-class-id="">
<p id="c"></p>
<textarea id="sN" bol2 type="text" oninput="sD()" placeholder="Student Name" no-m bdr="0"></textarea>
<textarea id="tN" bol2 type="text" oninput="sD()" placeholder="Teacher Name" no-m bdr="0"></textarea>
<textarea id="t" bol2 type="text" oninput="sD()" placeholder="Time" no-m bdr="0"></textarea>
<textarea id="tE" bol2 type="text" oninput="sD()" placeholder="Teacher Email" no-m bdr="0"></textarea>
<select id="sT" bol2 oninput="sD()" no-m bdr="0">
<option value="Major">Major</option>
<option value="Minor">Minor</option>
</select>
<textarea id="gC" bol2 type="text" oninput="sD()" placeholder="Class Code" no-m bdr="0"></textarea>
<textarea id="d" bol2 mid type="text" oninput="sD()" placeholder="Details" no-m bdr="0"></textarea>
<a bdr="0" bbg2 item no-m onmousedown="addPoint()" bol2><i class="fas fa-plus"></i></a>
<p id="tP">Total Points: 0</p>
</section>
</screen>
<script>
const classData = JSON.parse(localStorage.getItem('classData')) || {};
const sD = () => {
const classId = document.querySelector('#classDetails').dataset.classId;
if (!classId) return;
const d = {
sN: document.querySelector('#sN').value,
tN: document.querySelector('#tN').value,
t: document.querySelector('#t').value,
tE: document.querySelector('#tE').value,
sT: document.querySelector('#sT').value,
gC: document.querySelector('#gC').value,
d: document.querySelector('#d').value,
points: []
};
document.querySelectorAll('section p.point').forEach(pointParagraph => {
d.points.push({ pointValue: pointParagraph.textContent });
});
classData[classId] = d;
localStorage.setItem('classData', JSON.stringify(classData));
};
const aL = () => {
for (const [classId, data] of Object.entries(classData)) {
addClass(classId, data);
}
};
const addPoint = () => {
const pointsSection = document.querySelector('section');
const date = new Date().toLocaleString();
const pointParagraph = document.createElement('p');
pointParagraph.setAttribute('bol2', '');
pointParagraph.setAttribute('bdr', '0');
pointParagraph.classList.add('point');
pointParagraph.textContent = `1 - ${date}`; // Default point value
pointsSection.appendChild(pointParagraph);
pointParagraph.addEventListener('contextmenu', (e) => {
e.preventDefault();
pointParagraph.remove();
updateTotalPoints();
});
updateTotalPoints();
};
const updateTotalPoints = () => {
const totalPoints = document.querySelectorAll('section p.point').length;
document.getElementById('tP').textContent = `Total Points: ${totalPoints}`;
};
const shareData = () => {
const url = new URL(window.location);
url.searchParams.set('data', JSON.stringify(classData));
navigator.clipboard.writeText(url.toString()).then(() => {
alert('Data shared via URL!');
});
};
const addClass = (classId = Date.now().toString(), data = {}) => {
const classList = document.getElementById('classList');
const classItem = document.createElement('a');
classItem.textContent = `Class ${classList.children.length + 1}`;
classItem.setAttribute('bol2', '');
classItem.setAttribute('bdr', '0');
classItem.onclick = () => {
show('#classinfo');
hide('#classes');
loadClassData(classId, data);
};
classItem.addEventListener('contextmenu', (e) => {
e.preventDefault();
classItem.remove();
delete classData[classId];
localStorage.setItem('classData', JSON.stringify(classData));
});
classList.appendChild(classItem);
};
const loadClassData = (classId, data) => {
document.querySelector('#classDetails').dataset.classId = classId;
document.querySelector('#sN').value = data.sN || '';
document.querySelector('#tN').value = data.tN || '';
document.querySelector('#t').value = data.t || '';
document.querySelector('#tE').value = data.tE || '';
document.querySelector('#sT').value = data.sT || 'Major';
document.querySelector('#gC').value = data.gC || '';
document.querySelector('#d').value = data.d || '';
document.querySelectorAll('section p.point').forEach(p => p.remove());
data.points.forEach(point => {
const pointParagraph = document.createElement('p');
pointParagraph.setAttribute('bol2', '');
pointParagraph.setAttribute('bdr', '0');
pointParagraph.classList.add('point');
pointParagraph.textContent = `${point.pointValue} - ${new Date().toLocaleString()}`;
document.querySelector('section').appendChild(pointParagraph);
pointParagraph.addEventListener('contextmenu', (e) => {
e.preventDefault();
pointParagraph.remove();
updateTotalPoints();
});
});
updateTotalPoints();
};
const updateClock = () => {
const now = new Date();
const hours = String(now.getHours()).padStart(2, '0');
const minutes = String(now.getMinutes()).padStart(2, '0');
document.getElementById('clock').textContent = `${hours}:${minutes}`;
};
window.onload = () => {
aL();
show('#classes');
hide('#classinfo');
setInterval(updateClock, 1000);
};
</script>
</body>
